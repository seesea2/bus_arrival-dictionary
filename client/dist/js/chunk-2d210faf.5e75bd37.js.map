{"version":3,"sources":["webpack:///./src/views/Activities.vue","webpack:///./src/views/Activities.vue?b026"],"names":["class","id","aria-hidden","aria-labelledby","tabindex","data-bs-backdrop","activities","length","activity","key","role","ViewDetails","title","Date","startDatetime","toLocaleString","endDatetime","affectedSystems","curActivity","type","aria-label","toggleModal","impact","noImpact","remarks","contactPersons","startDateStr","startHour","hours","hour","startMinute","minutes","minute","endDateStr","endHour","value","endMinute","submitMsg","Submit","initData","date","toISOString","split","name","components","MsiNavbarVue","MsiNavbar","data","String","created","router","push","mounted","document","this","Refresh","i","toString","methods","dateToLocaleStr","console","log","filter","orgActivities","item","startDate","endDate","setDate","getDate","a","get","then","resp","catch","err","setHours","parseInt","setMinutes","put","setTimeout","post","Delete","delete","modal","getHours","padStart","getMinutes","render"],"mappings":"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","file":"js/chunk-2d210faf.5e75bd37.js","sourcesContent":["<template>\r\n  <div>\r\n    <MsiNavbarVue></MsiNavbarVue>\r\n\r\n    <div class=\"container mt-5\">\r\n      <div v-if=\"activities.length\" class=\"row\">\r\n        <div\r\n          v-for=\"activity in activities\"\r\n          class=\"col-sm-12 col-md-3 my-1\"\r\n          :key=\"activity.id\"\r\n        >\r\n          <div\r\n            class=\"card\"\r\n            role=\"button\"\r\n            @click=\"ViewDetails(activity, 'activityDetailsModalToggle')\"\r\n          >\r\n            <div class=\"card-header\">\r\n              {{ activity.title }}\r\n            </div>\r\n            <div class=\"card-body\">\r\n              <!-- <div class=\"card-title fw-bold\">{{ activity.title }}</div> -->\r\n              <div class=\"card-text small\">\r\n                <b>Start</b>:\r\n                {{ new Date(activity.startDatetime).toLocaleString() }}\r\n              </div>\r\n              <div class=\"card-text small\">\r\n                <b>End</b>:\r\n                {{ new Date(activity.endDatetime).toLocaleString() }}\r\n              </div>\r\n              <p class=\"card-text small\">\r\n                <b>Affected Systems</b> : {{ activity.affectedSystems }}\r\n              </p>\r\n            </div>\r\n            <!-- <button\r\n              class=\"btn btn-secondary btn-small\"\r\n              @click=\"Delete(activity.id)\"\r\n            >\r\n              Delete\r\n            </button> -->\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        class=\"modal fade\"\r\n        id=\"activityDetailsModalToggle\"\r\n        aria-hidden=\"true\"\r\n        aria-labelledby=\"activityDetailsModalToggleLabel\"\r\n        tabindex=\"-1\"\r\n      >\r\n        <div class=\"modal-dialog modal-lg modal-dialog-centered\">\r\n          <div v-if=\"curActivity.id\" class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n              <h5 class=\"modal-title\" id=\"activityDetailsModalToggleLabel\">\r\n                {{ curActivity.title }}\r\n              </h5>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn-close\"\r\n                aria-label=\"Close\"\r\n                @click=\"toggleModal()\"\r\n              ></button>\r\n            </div>\r\n            <div class=\"modal-body\" v-if=\"curActivity\">\r\n              <div class=\"card-text small\">\r\n                <b>Start:</b>\r\n                {{ new Date(curActivity.startDatetime).toLocaleString() }}\r\n              </div>\r\n              <div class=\"card-text small\">\r\n                <b>End:</b>\r\n                {{ new Date(curActivity.endDatetime).toLocaleString() }}\r\n              </div>\r\n              <div class=\"card-text mt-1 small\">\r\n                <b>Affected Systems:</b> {{ curActivity.affectedSystems }}\r\n              </div>\r\n              <hr />\r\n              <div class=\"card-text mt-1 small\">\r\n                <b>Impact:</b>\r\n                <div\r\n                  v-if=\"curActivity.impact\"\r\n                  v-html=\"\r\n                    curActivity.impact\r\n                      .replace(/\\r\\n/g, '<br>')\r\n                      .replace(/\\n/g, '<br>')\r\n                  \"\r\n                  class=\"mx-3\"\r\n                ></div>\r\n              </div>\r\n              <div class=\"card-text mt-1 small\">\r\n                <b>NoImpact:</b>\r\n                <div\r\n                  v-if=\"curActivity.noImpact\"\r\n                  v-html=\"\r\n                    curActivity.noImpact\r\n                      .replace(/\\r\\n/g, '<br>')\r\n                      .replace(/\\n/g, '<br>')\r\n                  \"\r\n                  class=\"mx-3\"\r\n                ></div>\r\n              </div>\r\n              <hr />\r\n              <div class=\"card-text mt-1 small\">\r\n                <b>Remarks:</b>\r\n                <div\r\n                  v-if=\"curActivity.remarks\"\r\n                  v-html=\"\r\n                    curActivity.remarks\r\n                      .replace(/\\r\\n/g, '<br>')\r\n                      .replace(/\\n/g, '<br>')\r\n                  \"\r\n                  class=\"mx-3\"\r\n                ></div>\r\n              </div>\r\n              <div class=\"card-text mt-1 small\">\r\n                <b>Contact Persons:</b>\r\n                <span v-html=\"curActivity.contactPersons\"></span>\r\n              </div>\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n              <button\r\n                class=\"btn btn-primary btn-sm\"\r\n                @click=\"toggleModal('editActivityModalToggle')\"\r\n              >\r\n                Edit\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Modal to Add/Edit Activity Details -->\r\n      <div\r\n        class=\"modal fade\"\r\n        id=\"editActivityModalToggle\"\r\n        data-bs-backdrop=\"static\"\r\n        aria-hidden=\"true\"\r\n        aria-labelledby=\"editActivityModalToggleLabel\"\r\n        tabindex=\"-1\"\r\n      >\r\n        <div class=\"modal-dialog modal-fullscreen modal-dialog-centered\">\r\n          <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n              <h5\r\n                v-if=\"curActivity && curActivity.id\"\r\n                class=\"modal-title\"\r\n                id=\"editActivityModalToggleLabel\"\r\n              >\r\n                Edit Activity\r\n              </h5>\r\n              <h5 v-else class=\"modal-title\" id=\"editActivityModalToggleLabel\">\r\n                Add Activity\r\n              </h5>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn-close\"\r\n                aria-label=\"Close\"\r\n                @click=\"toggleModal()\"\r\n              ></button>\r\n            </div>\r\n            <div class=\"modal-body\" v-if=\"curActivity\">\r\n              <div class=\"form-group mt-5\">\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <label>Title:</label>\r\n                    <input class=\"form-control\" v-model=\"curActivity.title\" />\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <label>Affected Systems:</label>\r\n                    <input\r\n                      class=\"form-control\"\r\n                      v-model=\"curActivity.affectedSystems\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <label>Start Datetime:</label>\r\n                    <div class=\"form-control\">\r\n                      <input\r\n                        type=\"date\"\r\n                        class=\"border-0\"\r\n                        v-model=\"startDateStr\"\r\n                      />\r\n                      <select\r\n                        class=\"ms-4 border-0 bg-white\"\r\n                        v-model=\"startHour\"\r\n                      >\r\n                        <option v-for=\"hour in hours\" :key=\"hour\">\r\n                          {{ hour }}\r\n                        </option>\r\n                      </select>\r\n                      :\r\n                      <select class=\"border-0 bg-white\" v-model=\"startMinute\">\r\n                        <option v-for=\"minute in minutes\" :key=\"minute\">\r\n                          {{ minute }}\r\n                        </option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <label>End Datetime:</label>\r\n                    <div class=\"form-control\">\r\n                      <input\r\n                        type=\"date\"\r\n                        class=\"border-0\"\r\n                        v-model=\"endDateStr\"\r\n                      />\r\n                      <select class=\"ms-4 border-0 bg-white\" v-model=\"endHour\">\r\n                        <option v-for=\"hour in hours\" :value=\"hour\" :key=\"hour\">\r\n                          {{ hour }}\r\n                        </option>\r\n                      </select>\r\n                      :\r\n                      <select class=\"border-0 bg-white\" v-model=\"endMinute\">\r\n                        <option\r\n                          v-for=\"minute in minutes\"\r\n                          :value=\"minute\"\r\n                          :key=\"minute\"\r\n                        >\r\n                          {{ minute }}\r\n                        </option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <label>Contact Persons:</label>\r\n                    <input\r\n                      class=\"form-control\"\r\n                      v-model=\"curActivity.contactPersons\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col\">\r\n                    <label>Impact:</label>\r\n                    <textarea\r\n                      class=\"form-control\"\r\n                      v-model=\"curActivity.impact\"\r\n                    ></textarea>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <label>No Impact:</label>\r\n                    <textarea\r\n                      class=\"form-control\"\r\n                      v-model=\"curActivity.noImpact\"\r\n                    ></textarea>\r\n                  </div>\r\n                  <div class=\"col\">\r\n                    <label>Remarks:</label>\r\n                    <textarea\r\n                      class=\"form-control\"\r\n                      v-model=\"curActivity.remarks\"\r\n                    ></textarea>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div v-if=\"submitMsg\" class=\"text-center\">\r\n                <small class=\"bg-warning\">{{ submitMsg }}</small>\r\n              </div>\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n              <button class=\"btn btn-primary\" @click=\"Submit()\">Submit</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <hr class=\"border-1 my-3\" />\r\n    <div class=\"text-center\">\r\n      <button\r\n        class=\"btn btn-primary\"\r\n        @click=\"initData() || toggleModal('editActivityModalToggle')\"\r\n      >\r\n        Add\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport MsiNavbarVue from \"../components/MsiNavbar.vue\";\r\nimport { loginId } from \"../common/msiLogin\";\r\nimport toggleModal from \"../common/modal\";\r\nimport router from \"../router\";\r\n\r\nfunction dateToLocaleStr(date) {\r\n  return new Date(date.toISOString().split(\"Z\")[0] + \"-08:00\").toISOString();\r\n}\r\n\r\nexport default {\r\n  name: \"ActivitiesVue\",\r\n  components: { MsiNavbarVue },\r\n  data() {\r\n    return {\r\n      activities: [],\r\n      curActivity: {\r\n        title: new String(),\r\n        affectedSystems: new String(),\r\n        impact: new String(),\r\n        noImpact: new String(),\r\n        remarks: new String(),\r\n        contactPersons: new String(),\r\n      },\r\n      startDateStr: dateToLocaleStr(new Date()).split(\"T\")[0],\r\n      startHour: \"00\",\r\n      startMinute: \"00\",\r\n      endHour: \"00\",\r\n      endMinute: \"00\",\r\n      endDateStr: dateToLocaleStr(new Date()).split(\"T\")[0],\r\n      hours: [],\r\n      minutes: [],\r\n      submitMsg: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    if (!loginId()) {\r\n      router.push(\"/login\");\r\n    }\r\n  },\r\n  mounted() {\r\n    document.title = \"Activities\";\r\n    this.Refresh();\r\n\r\n    for (let i = 0; i < 24; ++i) {\r\n      if (i < 10) {\r\n        this.hours.push(\"0\" + i);\r\n      } else {\r\n        this.hours.push(i.toString());\r\n      }\r\n    }\r\n    this.minutes.push(\"00\");\r\n    this.minutes.push(\"15\");\r\n    this.minutes.push(\"30\");\r\n    this.minutes.push(\"45\");\r\n  },\r\n  methods: {\r\n    dateToLocaleStr(date) {\r\n      return dateToLocaleStr(date);\r\n    },\r\n    initData() {\r\n      console.log(\"initData()\");\r\n      this.curActivity = {\r\n        title: \"\",\r\n        affectedSystems: \"\",\r\n        impact: \"\",\r\n        noImpact: \"\",\r\n        remarks: \"\",\r\n        contactPersons: \"\",\r\n      };\r\n      this.startDateStr = dateToLocaleStr(new Date()).split(\"T\")[0];\r\n      this.startHour = \"00\";\r\n      this.startMinute = \"00\";\r\n      this.endDateStr = dateToLocaleStr(new Date()).split(\"T\")[0];\r\n      this.endHour = \"00\";\r\n      this.endMinute = \"00\";\r\n    },\r\n    Refresh(filter) {\r\n      if (filter) {\r\n        if (filter == \"Day\") {\r\n          console.log(\"filter\", filter);\r\n          this.activities = this.orgActivities;\r\n          this.activities.filter((item) => {\r\n            if (!item.startDate && !item.endDate) {\r\n              console.log(\"filter 1\");\r\n              return false;\r\n            }\r\n\r\n            if (\r\n              new Date(item.startDate) >\r\n              new Date().setDate(new Date().getDate() + 1)\r\n            ) {\r\n              console.log(\"filter 2\");\r\n              return false;\r\n            }\r\n            if (\r\n              new Date(item.endDate) <\r\n              new Date().setDate(new Date().getDate() - 1)\r\n            ) {\r\n              console.log(\"filter 3\");\r\n              return false;\r\n            }\r\n            console.log(\"filter end\");\r\n            return true;\r\n          });\r\n        }\r\n        return;\r\n      }\r\n\r\n      axios\r\n        .get(\"/api/msi/activities\")\r\n        .then((resp) => {\r\n          this.activities = resp.data;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          this.activities = [];\r\n        });\r\n    },\r\n    Submit() {\r\n      console.log(\"in Submit:\", this.curActivity);\r\n      if (!this.curActivity.title) {\r\n        this.submitMsg = \"Title is empty.\";\r\n        return;\r\n      }\r\n      this.submitMsg = \"\";\r\n\r\n      // SG locale datetime\r\n      let startDatetime = new Date(this.startDateStr);\r\n      startDatetime.setHours(parseInt(this.startHour));\r\n      startDatetime.setMinutes(parseInt(this.startMinute));\r\n      this.curActivity.startDatetime = startDatetime;\r\n      let endDatetime = new Date(this.endDateStr);\r\n      endDatetime.setHours(parseInt(this.endHour));\r\n      endDatetime.setMinutes(parseInt(this.endMinute));\r\n      this.curActivity.endDatetime = endDatetime;\r\n      // console.log(\"endDatetime:\", endDatetime);\r\n\r\n      console.log(\"in 2:\", this.curActivity);\r\n\r\n      // for existig Act with ID, to update using PUT\r\n      if (this.curActivity.id) {\r\n        axios\r\n          .put(\"/api/msi/activities\", this.curActivity)\r\n          .then(() => {\r\n            // console.log(resp.data);\r\n            // this.activities.push(data);\r\n            this.submitMsg = \"Edit successfully.\";\r\n            setTimeout(() => {\r\n              this.submitMsg = \"\";\r\n              toggleModal();\r\n            }, 3000);\r\n\r\n            // update info in class.\r\n            for (let i = 0; i < this.activities.length; ++i) {\r\n              if (this.activities[i].id == this.curActivity.id) {\r\n                for (let key in this.activities[i]) {\r\n                  this.activities[i][key] = this.curActivity[key];\r\n                }\r\n                // console.log(\"updated info:\", this.activities[i]);\r\n                break;\r\n              }\r\n            }\r\n            return true;\r\n          })\r\n          .catch((err) => {\r\n            this.submitMsg = err;\r\n            console.log(\"put err:\", err);\r\n          });\r\n      }\r\n      // for new Act, to insert using POST\r\n      else {\r\n        axios\r\n          .post(\"/api/msi/activities\", this.curActivity)\r\n          .then((resp) => {\r\n            // console.log(resp.data);\r\n            this.curActivity.id = resp.data.id;\r\n            this.activities.push(this.curActivity);\r\n\r\n            this.submitMsg = \"Add successfully.\";\r\n            setTimeout(() => {\r\n              this.submitMsg = \"\";\r\n              toggleModal();\r\n            }, 3000);\r\n            return;\r\n          })\r\n          .catch((err) => {\r\n            this.submitMsg = err;\r\n            console.log(\"post err:\", err);\r\n          });\r\n      }\r\n    },\r\n    Delete(id) {\r\n      console.log(\"delete act:\", id);\r\n      if (!id) {\r\n        return;\r\n      }\r\n\r\n      this.activities = this.activities.filter((item) => item.id != id);\r\n      axios.delete(\"/api/msi/activities/\" + id).catch((err) => {\r\n        console.log(err);\r\n      });\r\n    },\r\n    ViewDetails(activity, modal) {\r\n      this.startDateStr = dateToLocaleStr(\r\n        new Date(activity.startDatetime)\r\n      ).split(\"T\")[0];\r\n      this.startHour = new Date(activity.startDatetime)\r\n        .getHours()\r\n        .toString()\r\n        .padStart(2, \"0\");\r\n      this.startMinute = new Date(activity.startDatetime)\r\n        .getMinutes()\r\n        .toString()\r\n        .padStart(2, \"0\");\r\n\r\n      this.endDateStr = dateToLocaleStr(new Date(activity.endDatetime)).split(\r\n        \"T\"\r\n      )[0];\r\n      this.endHour = new Date(activity.endDatetime)\r\n        .getHours()\r\n        .toString()\r\n        .padStart(2, \"0\");\r\n      this.endMinute = new Date(activity.endDatetime)\r\n        .getMinutes()\r\n        .toString()\r\n        .padStart(2, \"0\");\r\n      console.log(\r\n        \"handleEventClick:\",\r\n        this.startDateStr,\r\n        this.startHour,\r\n        this.startMinute\r\n      );\r\n\r\n      for (let key in activity) {\r\n        this.curActivity[key] = activity[key];\r\n      }\r\n\r\n      this.toggleModal(modal);\r\n      return true;\r\n    },\r\n    toggleModal(id) {\r\n      return toggleModal(id);\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./Activities.vue?vue&type=template&id=bcee9680\"\nimport script from \"./Activities.vue?vue&type=script&lang=js\"\nexport * from \"./Activities.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}