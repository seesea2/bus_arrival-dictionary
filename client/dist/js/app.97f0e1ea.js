(function(t){function e(e){for(var o,r,a=e[0],s=e[1],i=e[2],l=0,d=[];l<a.length;l++)r=a[l],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&d.push(c[r][0]),c[r]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);b&&b(e);while(d.length)d.shift()();return u.push.apply(u,i||[]),n()}function n(){for(var t,e=0;e<u.length;e++){for(var n=u[e],o=!0,r=1;r<n.length;r++){var a=n[r];0!==c[a]&&(o=!1)}o&&(u.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},r={app:0},c={app:0},u=[];function a(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-2d0dd9a6":"9c9fda4a","chunk-2d210faf":"e0162391","chunk-30cd8357":"31b60103","chunk-56c9301a":"0c6f471f","chunk-68486475":"f277c739"}[t]+".js"}function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n={"chunk-56c9301a":1,"chunk-68486475":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var o="css/"+({}[t]||t)+"."+{"chunk-2d0dd9a6":"31d6cfe0","chunk-2d210faf":"31d6cfe0","chunk-30cd8357":"31d6cfe0","chunk-56c9301a":"72e93b5d","chunk-68486475":"a718fc29"}[t]+".css",c=s.p+o,u=document.getElementsByTagName("link"),a=0;a<u.length;a++){var i=u[a],l=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(l===o||l===c))return e()}var d=document.getElementsByTagName("style");for(a=0;a<d.length;a++){i=d[a],l=i.getAttribute("data-href");if(l===o||l===c)return e()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=e,b.onerror=function(e){var o=e&&e.target&&e.target.src||c,u=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=o,delete r[t],b.parentNode.removeChild(b),n(u)},b.href=c;var f=document.getElementsByTagName("head")[0];f.appendChild(b)})).then((function(){r[t]=0})));var o=c[t];if(0!==o)if(o)e.push(o[2]);else{var u=new Promise((function(e,n){o=c[t]=[e,n]}));e.push(o[2]=u);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=a(t);var d=new Error;i=function(e){l.onerror=l.onload=null,clearTimeout(b);var n=c[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",d.name="ChunkLoadError",d.type=o,d.request=r,n[1](d)}c[t]=void 0}};var b=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(e)},s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var d=0;d<i.length;d++)e(i[d]);var b=l;u.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"16bb":function(t,e,n){"use strict";n("4a87")},4754:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return u}));n("e9c4"),n("7db0"),n("d3b7"),n("4de4");function o(t){try{if(r(t.BusStopCode))return!1;var e=c();return e.push(t),localStorage.setItem("busStopBookmarks",JSON.stringify(e)),console.log("add true"),!0}catch(n){return console.log("add false"),console.log(n),!1}}function r(t){try{var e=c();return e.find((function(e){return e.BusStopCode===t}))}catch(n){return}}function c(){try{var t=localStorage.getItem("busStopBookmarks"),e=[];return t&&(e=JSON.parse(t)),e}catch(n){return[]}}function u(t){try{var e=c();return e=e.filter((function(e){return e.BusStopCode!==t})),localStorage.setItem("busStopBookmarks",JSON.stringify(e)),!0}catch(n){return!1}}},"4a87":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");function r(t,e,n,r,c,u){var a=Object(o["z"])("router-view"),s=Object(o["z"])("AppFooter"),i=Object(o["z"])("AudioPlayer");return Object(o["s"])(),Object(o["e"])("div",null,[Object(o["i"])(a),Object(o["i"])(s),Object(o["i"])(i)])}var c=function(t){return Object(o["v"])("data-v-8355a0a6"),t=t(),Object(o["t"])(),t},u={id:"audioarea",style:{position:"fixed",bottom:"0px",right:"10px"},class:"w-100 d-none"},a={class:"container-fluid"},s={class:"row no-gutters justify-content-end"},i=c((function(){return Object(o["f"])("audio",{id:"audioplayer",controls:"",class:"col-9 col-sm-auto p-0 m-0"},null,-1)}));function l(t,e,n,r,c,l){return Object(o["s"])(),Object(o["e"])("div",u,[Object(o["f"])("div",a,[Object(o["f"])("div",s,[i,Object(o["f"])("button",{onClick:e[0]||(e[0]=function(t){return l.close()}),class:"col-auto btn rounded-0 m-0 text-white"},"X")])])])}var d={name:"AudioPlayer",methods:{close:function(){try{var t=document.getElementById("audioarea");t.setAttribute("class","d-none");var e=document.getElementById("audioplayer");e.pause()}catch(n){console.log("failure",n)}}}};n("16bb");d.render=l,d.__scopeId="data-v-8355a0a6";var b=d,f={class:"container-fluid text-center py-4"},p=Object(o["f"])("h6",null,[Object(o["h"])(" We "),Object(o["f"])("span",{style:{"font-size":"150%",color:"red"}}," ❤ "),Object(o["h"])(" SG ")],-1),h=[p];function O(t,e,n,r,c,u){return Object(o["s"])(),Object(o["e"])("footer",f,h)}var j={name:"AppFooter"};j.render=O;var m=j,v={components:{AudioPlayer:b,AppFooter:m}};n("7b7f");v.render=r;var y=v,g=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),k={class:"container py-3"},B={class:"text-center"},S=Object(o["f"])("h2",null,"Bus Arrival Time",-1),N=Object(o["f"])("h6",null,"Get bus arrival time by bus stop code.",-1),C={class:"row justify-content-center mx-0 mt-4"},w={class:"col-12 col-md-6 col-lg-4"},A={class:"input-group"},I={class:"input-group-append"},P={key:0},E={key:0,class:"mt-4"},T=Object(o["f"])("h3",null,"Bus Stop Bookmark",-1),x={class:"table table-sm mt-2"},_=Object(o["f"])("thead",{class:"thead-dark"},[Object(o["f"])("tr",null,[Object(o["f"])("th",{scope:"col"},"BusStop"),Object(o["f"])("th",{scope:"col"},"Name"),Object(o["f"])("th",{scope:"col"},"Remove")])],-1),D=["onClick"],L=["onClick"],R=["onClick"],M={class:"mt-4"},F=Object(o["h"])(" Toggle Nearby Bus Stops "),G={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},J={key:1,class:"table table-sm mt-2"},q=Object(o["f"])("thead",{class:"thead-dark"},[Object(o["f"])("tr",null,[Object(o["f"])("th",{scope:"col"},"BusStop"),Object(o["f"])("th",{scope:"col"},"Name")])],-1),z=["onClick"],U=["onClick"];function V(t,e,n,r,c,u){return Object(o["s"])(),Object(o["e"])("div",k,[Object(o["f"])("div",B,[S,N,Object(o["f"])("div",C,[Object(o["f"])("div",w,[Object(o["f"])("div",A,[Object(o["F"])(Object(o["f"])("input",{"onUpdate:modelValue":e[0]||(e[0]=function(t){return c.inputCode=t}),placeholder:"Bus stop code",class:"form-control",onKeyup:e[1]||(e[1]=Object(o["G"])((function(t){return u.getBusArrival()}),["enter"]))},null,544),[[o["D"],c.inputCode]]),Object(o["f"])("div",I,[Object(o["f"])("button",{class:"btn btn-primary",onClick:e[2]||(e[2]=function(t){return u.getBusArrival()})}," Get ")])]),c.inputNote?(Object(o["s"])(),Object(o["e"])("div",P,Object(o["B"])(c.inputNote),1)):Object(o["d"])("",!0)])]),c.bookmarkBusStops&&c.bookmarkBusStops.length?(Object(o["s"])(),Object(o["e"])("div",E,[T,Object(o["f"])("table",x,[_,Object(o["f"])("tbody",null,[(Object(o["s"])(!0),Object(o["e"])(o["a"],null,Object(o["y"])(c.bookmarkBusStops,(function(t){return Object(o["s"])(),Object(o["e"])("tr",{key:t.BusStopCode},[Object(o["f"])("td",null,[Object(o["f"])("a",{onClick:function(e){return u.getBusArrival(t.BusStopCode)},class:"btn"},Object(o["B"])(t.BusStopCode),9,D)]),Object(o["f"])("td",null,[Object(o["f"])("a",{onClick:function(e){return u.getBusArrival(t.BusStopCode)},class:"btn"},Object(o["B"])(t.Description)+"@"+Object(o["B"])(t.RoadName),9,L)]),Object(o["f"])("td",null,[Object(o["f"])("a",{onClick:function(e){return u.removeBookmark(t.BusStopCode)},class:"btn"}," X ",8,R)])])})),128))])])])):Object(o["d"])("",!0),Object(o["f"])("div",M,[Object(o["f"])("button",{onClick:e[3]||(e[3]=function(){return u.toggleNearbyBusStops&&u.toggleNearbyBusStops.apply(u,arguments)}),class:"btn btn-primary"},[F,c.lodingNearbyBusStops?(Object(o["s"])(),Object(o["e"])("span",G)):Object(o["d"])("",!0)]),Object(o["f"])("div",null,Object(o["B"])(c.getNearbyNote),1)]),c.showNearbyBusStops?(Object(o["s"])(),Object(o["e"])("table",J,[q,Object(o["f"])("tbody",null,[(Object(o["s"])(!0),Object(o["e"])(o["a"],null,Object(o["y"])(c.nearbyBusStops,(function(t){return Object(o["s"])(),Object(o["e"])("tr",{key:t.busStop.BusStopCode},[Object(o["f"])("td",null,[Object(o["f"])("a",{onClick:function(e){return u.getBusArrival(t.busStop.BusStopCode)},class:"btn"},Object(o["B"])(t.busStop.BusStopCode),9,z)]),Object(o["f"])("td",null,[Object(o["f"])("a",{onClick:function(e){return u.getBusArrival(t.busStop.BusStopCode)},class:"btn"},Object(o["B"])(t.busStop.Description)+"@"+Object(o["B"])(t.busStop.RoadName),9,U)])])})),128))])])):Object(o["d"])("",!0)])])}n("498a");var K=n("bc3a"),W=n.n(K),X=n("4754"),H={name:"BusArrival",data:function(){return{inputCode:null,inputNote:null,lodingNearbyBusStops:!1,showNearbyBusStops:!1,nearbyBusStops:null,getNearbyNote:null,watchId:null,bookmarkBusStops:null}},created:function(){this.refreshBookmarks()},mounted:function(){document.title="Bus Arrival"},methods:{getBusArrival:function(t){t&&(this.inputCode=t),this.inputCode&&this.inputCode.trim()?(this.inputNote=null,$.push({name:"BusArrivalTime",params:{inputCode:this.inputCode.trim()}})):this.inputNote="Please input bus stop code."},refreshBookmarks:function(){this.bookmarkBusStops=Object(X["c"])()},removeBookmark:function(t){Object(X["d"])(t)&&this.refreshBookmarks()},toggleNearbyBusStops:function(){var t=this;if(this.showNearbyBusStops)return this.showNearbyBusStops=!1,void(this.watchId&&(navigator.geolocation.clearWatch(this.watchId),this.watchId=null));this.lodingNearbyBusStops=!0,navigator&&navigator.geolocation&&(this.watchId=navigator.geolocation.watchPosition((function(e){e&&e.coords&&W.a.get("/api/lta/bus/nearbyBusStops",{params:{latitude:e.coords.latitude,longitude:e.coords.longitude}}).then((function(e){t.nearbyBusStops=e.data,t.showNearbyBusStops=!0})).catch((function(t){console.log(t)})).then(t.lodingNearbyBusStops=!1)}),(function(e){switch(t.lodingNearbyBusStops=!1,t.showNearbyBusStops=!1,e.code){case e.PERMISSION_DENIED:t.getNearbyNote="Request for Geolocation is denied.";break;case e.POSITION_UNAVAILABLE:t.getNearbyNote="Location information is unavailable.";break;case e.TIMEOUT:t.getNearbyNote="Request to get location timed out.";break;default:t.getNearbyNote="An unknown error occurred.";break}})))}}};H.render=V;var Q=H,Y=[{path:"/",name:"Root",component:Q},{path:"/busArrivalTime/:inputCode",name:"BusArrivalTime",component:function(){return n.e("chunk-30cd8357").then(n.bind(null,"78db"))}},{path:"/dictionary/:word?",name:"Dictionary",component:function(){return n.e("chunk-68486475").then(n.bind(null,"3349"))}},{path:"/podcast",name:"Podcast",component:function(){return n.e("chunk-56c9301a").then(n.bind(null,"e59d"))}},{path:"/video",name:"Video",component:function(){return n.e("chunk-2d0dd9a6").then(n.bind(null,"81a8"))}},{path:"/activities",name:"ActivitiesVue",component:function(){return n.e("chunk-2d210faf").then(n.bind(null,"b9ce"))}}],Z=Object(g["a"])({history:Object(g["b"])("/"),routes:Y}),$=Z;Object(o["c"])(y).use($).mount("#app")},6855:function(t,e,n){},"7b7f":function(t,e,n){"use strict";n("6855")}});