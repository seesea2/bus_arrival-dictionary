(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21e979"],{d5e7:function(e,t,c){"use strict";c.r(t);var i=c("b85c"),n=(c("4de4"),c("d3b7"),c("4e82"),c("7a23")),l=c("bc3a"),a=c.n(l),r=c("5da5"),o=c("f88d"),s=c("a9d6"),d=c("243f"),u=c("a18c"),b={class:"container"},f=Object(n["createElementVNode"])("h4",{class:"my-4"},"Ordered by StartDatetime Decreasing",-1),m=Object(n["createTextVNode"])(" Filter: "),O={class:"form-check form-check-inline"},j=Object(n["createElementVNode"])("label",{class:"form-check-label",for:"actFilter_0"},"All",-1),v={class:"form-check form-check-inline"},p=Object(n["createElementVNode"])("label",{class:"form-check-label",for:"actFilter_1"},"Activities",-1),h={class:"form-check form-check-inline"},y=Object(n["createElementVNode"])("label",{class:"form-check-label",for:"actFilter_1"},"Issues",-1),E={class:"table caption-top table-striped table-hover"},V=Object(n["createElementVNode"])("thead",{class:"text-center"},[Object(n["createElementVNode"])("tr",null,[Object(n["createElementVNode"])("th",{scope:"col",style:{width:"5%"}},"#"),Object(n["createElementVNode"])("th",{scope:"col",style:{width:"40%"}},"Title"),Object(n["createElementVNode"])("th",{scope:"col",style:{width:"20%"}},"Start"),Object(n["createElementVNode"])("th",{scope:"col",style:{width:"20%"}},"End"),Object(n["createElementVNode"])("th",{scope:"col",style:{width:"25%"}},"AffectedSystems")])],-1),N=["onClick"],k=["innerHTML"],g=Object(n["createElementVNode"])("hr",{class:"border-1 my-3"},null,-1),D={class:"text-center"},w={name:"ActivitiesTable",setup:function(e){document.title="Activities Table";var t=Object(n["reactive"])({activities:[],curActivity:{id:""},filter:"All"});function c(e){t.activities=t.activities.filter((function(t){return t.id!=e}))}function l(e){if(t.curActivity.id){for(var c in t.activities)if(t.activities[c].id==e.id){console.log("changed act:",e),t.activities[c]=e;break}}else{console.log("add act:",e);var i={};for(var n in e)i[n]=e[n];t.activities.push(i),t.activities.sort((function(e,t){return new Date(t.startDatetime)-new Date(e.startDatetime)}))}console.log("log catchEdit data.activities:",t.activities)}function w(){a.a.get("/api/msi/activities").then((function(e){var c,n=Object(i["a"])(e.data);try{for(n.s();!(c=n.n()).done;){var l=c.value;t.activities.push(l)}}catch(a){n.e(a)}finally{n.f()}t.activities.sort((function(e,t){return new Date(t.startDatetime)-new Date(e.startDatetime)}))})).catch((function(e){console.log(e),t.activities.length=0}))}function A(){for(var e in t.curActivity)t.curActivity[e]=null;t.curActivity.type="Activity",console.log("actTable -- data.curActivity:",t.curActivity),Object(d["a"])("editActivityModal")}function F(e){for(var c in e)t.curActivity[c]=e[c];Object(d["a"])("activityDetailsModal")}return Object(n["onBeforeMount"])((function(){Object(s["c"])()?w():u["a"].push("/login")})),function(e,i){return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(r["a"]),Object(n["createElementVNode"])("div",b,[f,m,Object(n["createElementVNode"])("div",O,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":i[0]||(i[0]=function(e){return Object(n["unref"])(t).filter=e}),id:"actFilter_0",value:"All"},null,512),[[n["vModelRadio"],Object(n["unref"])(t).filter]]),j]),Object(n["createElementVNode"])("div",v,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":i[1]||(i[1]=function(e){return Object(n["unref"])(t).filter=e}),id:"actFilter_1",value:"Activity"},null,512),[[n["vModelRadio"],Object(n["unref"])(t).filter]]),p]),Object(n["createElementVNode"])("div",h,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":i[2]||(i[2]=function(e){return Object(n["unref"])(t).filter=e}),id:"actFilter_2",value:"Issue"},null,512),[[n["vModelRadio"],Object(n["unref"])(t).filter]]),y]),Object(n["createElementVNode"])("table",E,[V,Object(n["createElementVNode"])("tbody",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(Object(n["unref"])(t).activities,(function(e,c){return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,["All"==Object(n["unref"])(t).filter||e.type==Object(n["unref"])(t).filter?(Object(n["openBlock"])(),Object(n["createElementBlock"])("tr",{class:"small",key:e.id,onClick:function(t){return F(e)}},[Object(n["createElementVNode"])("td",{class:Object(n["normalizeClass"])("Issue"==e.type?"bg-warning":"bg-success")}," â›¤ "+Object(n["toDisplayString"])(c+1),3),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(e.title),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(new Date(e.startDatetime).toLocaleString()),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(new Date(e.endDatetime).toLocaleString()),1),Object(n["createElementVNode"])("td",{innerHTML:e.affectedSystems},null,8,k)],8,N)):Object(n["createCommentVNode"])("",!0)],64)})),256))])]),g,Object(n["createElementVNode"])("div",D,[Object(n["createElementVNode"])("button",{class:"btn btn-primary",onClick:i[3]||(i[3]=function(e){return A()})},"Add event")])]),Object(n["createVNode"])(o["a"],{activity:Object(n["unref"])(t).curActivity,onDelete:i[4]||(i[4]=function(e){return c(e)}),onEdit:i[5]||(i[5]=function(e){return l(e)})},null,8,["activity"])],64)}}};const A=w;t["default"]=A}}]);
//# sourceMappingURL=chunk-2d21e979.0d821de6.js.map