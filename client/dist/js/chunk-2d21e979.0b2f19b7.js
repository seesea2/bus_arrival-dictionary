(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21e979"],{d5e7:function(t,e,c){"use strict";c.r(e);var i=c("b85c"),n=(c("4de4"),c("d3b7"),c("4e82"),c("7a23")),a=c("bc3a"),o=c.n(a),l=c("5da5"),r=c("f88d"),s=c("a9d6"),d=c("243f"),u=c("a18c"),b={class:"container"},v=Object(n["createElementVNode"])("h4",{class:"my-4"},"Ordered by StartDatetime Decreasing",-1),O={class:"table caption-top table-striped table-hover"},j=Object(n["createElementVNode"])("thead",{class:"text-center"},[Object(n["createElementVNode"])("tr",null,[Object(n["createElementVNode"])("th",{scope:"col",style:{width:"5%"}},"#"),Object(n["createElementVNode"])("th",{scope:"col",style:{width:"40%"}},"Title"),Object(n["createElementVNode"])("th",{scope:"col",style:{width:"20%"}},"Start"),Object(n["createElementVNode"])("th",{scope:"col",style:{width:"20%"}},"End"),Object(n["createElementVNode"])("th",{scope:"col",style:{width:"25%"}},"AffectedSystems")])],-1),m=["onClick"],f=["innerHTML"],y=Object(n["createElementVNode"])("hr",{class:"border-1 my-3"},null,-1),p={class:"text-center"},h={name:"ActivitiesTable",setup:function(t){document.title="Activities Table";var e=Object(n["reactive"])({activities:[],curActivity:{id:""}});function c(t){e.activities=e.activities.filter((function(e){return e.id!=t}))}function a(t){if(e.curActivity.id){for(var c in e.activities)if(e.activities[c].id==t.id){console.log("changed act:",t),e.activities[c]=t;break}}else{console.log("add act:",t);var i={};for(var n in t)i[n]=t[n];e.activities.push(i),e.activities.sort((function(t,e){return new Date(e.startDatetime)-new Date(t.startDatetime)}))}console.log("log catchEdit data.activities:",e.activities)}function h(){o.a.get("/api/msi/activities").then((function(t){var c,n=Object(i["a"])(t.data);try{for(n.s();!(c=n.n()).done;){var a=c.value;e.activities.push(a)}}catch(o){n.e(o)}finally{n.f()}e.activities.sort((function(t,e){return new Date(e.startDatetime)-new Date(t.startDatetime)}))})).catch((function(t){console.log(t),e.activities.length=0}))}function E(){for(var t in e.curActivity)e.curActivity[t]=null;e.curActivity.type="Activity",console.log("actTable -- data.curActivity:",e.curActivity),Object(d["a"])("editActivityModal")}function N(t){for(var c in t)e.curActivity[c]=t[c];Object(d["a"])("activityDetailsModal")}return Object(n["onBeforeMount"])((function(){Object(s["c"])()?h():u["a"].push("/login")})),function(t,i){return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(l["a"]),Object(n["createElementVNode"])("div",b,[v,Object(n["createElementVNode"])("table",O,[j,Object(n["createElementVNode"])("tbody",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(Object(n["unref"])(e).activities,(function(t,e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("tr",{class:"small",key:t.id,onClick:function(e){return N(t)}},[Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(e+1),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.title),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(new Date(t.startDatetime).toLocaleString()),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(new Date(t.endDatetime).toLocaleString()),1),Object(n["createElementVNode"])("td",{innerHTML:t.affectedSystems},null,8,f)],8,m)})),128))])]),y,Object(n["createElementVNode"])("div",p,[Object(n["createElementVNode"])("button",{class:"btn btn-primary",onClick:i[0]||(i[0]=function(t){return E()})},"Add")])]),Object(n["createVNode"])(r["a"],{activity:Object(n["unref"])(e).curActivity,onDelete:i[1]||(i[1]=function(t){return c(t)}),onEdit:i[2]||(i[2]=function(t){return a(t)})},null,8,["activity"])],64)}}};const E=h;e["default"]=E}}]);
//# sourceMappingURL=chunk-2d21e979.0b2f19b7.js.map