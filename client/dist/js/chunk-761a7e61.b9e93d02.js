(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-761a7e61"],{"41ce":function(e,t,n){"use strict";n.r(t);var c=n("7a23"),s=n("6c02"),r=n("bc3a"),a=n.n(r),o=n("a18c"),b=n("d178");function i(e){try{const t=localStorage.getItem(e);return t?JSON.parse(t):[]}catch{return[]}}function l(e,t){try{let n=i(e);return n.length>0?n[0][t]:void 0}catch{return}}function u(e,t,n){try{let c=i(e);return c.length<=0&&(c[0]={}),c[0][t]=n,localStorage.setItem(e,JSON.stringify(c)),!0}catch(c){return console.log(c),!1}}const d={class:"container py-2"},O=Object(c["f"])("div",{class:"text-center"},[Object(c["f"])("h2",null,"Learn Words")],-1),j={class:"row justify-content-end"},f={class:"col-auto"},g={key:0,class:"input-group"},p=["onKeyup"],h={class:"input-group-append"},m={key:1},v={class:"small"},y={class:"text-center"},L={key:0,class:"spinner-border text-primary",role:"status",style:{width:"5rem",height:"5rem"},"aria-hidden":"true",center:""},w=Object(c["f"])("span",{class:"visually-hidden"},"Loading...",-1),C=[w],k={center:""},_={key:0,class:"small"},x=Object(c["f"])("div",null,"Note:",-1),S=Object(c["f"])("ul",null,[Object(c["f"])("li",null,"click dictionary to see definitions;"),Object(c["f"])("li",null,"click x to hide the word for your account.")],-1),B=[x,S],J={class:"col-auto"},F={class:"col-auto align-self-end ml-auto"},I=Object(c["f"])("span",{class:"ms-2"},"[",-1),N=["href"],W=["href"],D=["href"],K=["href"],$=Object(c["f"])("span",null,"]",-1),z=["onClick"],A={class:"text-center"};var E={name:"Learn",setup(e){document.title="Learn Words";const t="LearnEn";let n=Object(c["w"])({bLogin:!1,learntCount:0,user:"",words:[],loading:!0});function r(){n.bLogin=!1,u(t,"bLogin",!1),o["a"].push({name:"Learn"})}function i(){n.user&&(n.user=n.user.toLowerCase(),n.bLogin=!0,u(t,"user",n.user),u(t,"bLogin",!0),a.a.get("/api/user/"+n.user),o["a"].push({name:"Learn",params:{user:n.user}}),a.a.get("/api/learn/"+n.user+"/count").then(e=>{n.learntCount=e.data.count}))}function w(){let e="/api/learn/";n.user&&(e+=n.user),n.loading=!0,a.a.get(e).then(e=>{n.words=e.data,n.loading=!1}).catch(e=>{console.log(e),n.words.length=0,n.loading=!1}),n.bLogin&&a.a.get(e+"/count").then(e=>{n.learntCount=e.data.count})}function x(e){n.user&&a.a.get(`/api/learn/${n.user}?word=${e}`).then(()=>{n.words=n.words.filter(t=>t!=e),n.learntCount+=1}).catch(e=>{console.log(e)})}return Object(c["p"])(()=>{if(n.bLogin=l(t,"bLogin"),!n.bLogin)return;const e=Object(s["c"])();n.user=e.params.user,n.user&&(n.user=n.user.toLowerCase());let c=l(t,"user");return n.user||c?n.user?c!=n.user?(u(t,"user",n.user),void o["a"].push({name:"Learn",params:{user:n.user}})):void 0:(n.user=c,void o["a"].push({name:"Learn",params:{user:c}})):(n.bLogin=!1,void u(t,"bLogin",!1))}),Object(c["p"])(()=>{w()}),(e,t)=>(Object(c["s"])(),Object(c["e"])(c["a"],null,[Object(c["h"])(b["a"]),Object(c["f"])("div",d,[O,Object(c["f"])("div",j,[Object(c["f"])("div",f,[Object(c["C"])(n).bLogin?Object(c["d"])("",!0):(Object(c["s"])(),Object(c["e"])("div",g,[Object(c["G"])(Object(c["f"])("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>Object(c["C"])(n).user=e),placeholder:"user",class:"form-control",onKeyup:Object(c["H"])(i,["enter"])},null,40,p),[[c["D"],Object(c["C"])(n).user,void 0,{trim:!0}]]),Object(c["f"])("div",h,[Object(c["f"])("button",{onClick:t[1]||(t[1]=e=>i()),class:"col-auto btn btn-primary"}," Sign in ")])])),Object(c["C"])(n).bLogin?(Object(c["s"])(),Object(c["e"])("div",m,[Object(c["f"])("span",v,"Learnt:"+Object(c["B"])(Object(c["C"])(n).learntCount),1),Object(c["f"])("button",{onClick:t[2]||(t[2]=e=>r()),class:"col-auto p-1 ms-2 btn btn-outline-primary btn-sm"}," Sign out ")])):Object(c["d"])("",!0)])]),Object(c["f"])("div",y,[Object(c["C"])(n).loading?(Object(c["s"])(),Object(c["e"])("span",L,C)):Object(c["d"])("",!0)]),Object(c["f"])("div",k,[Object(c["C"])(n).bLogin?(Object(c["s"])(),Object(c["e"])("div",_,B)):Object(c["d"])("",!0),(Object(c["s"])(!0),Object(c["e"])(c["a"],null,Object(c["y"])(Object(c["C"])(n).words,(e,t)=>(Object(c["s"])(),Object(c["e"])("div",{class:"row",key:e},[Object(c["f"])("div",J,Object(c["B"])(t+1)+": "+Object(c["B"])(e),1),Object(c["f"])("div",F,[I,Object(c["f"])("a",{class:"btn p-0 btn-sm",target:"_blank",href:"https://dictionary.cambridge.org/dictionary/english/"+e},"Cambridge",8,N),Object(c["f"])("a",{class:"btn p-0 ms-1 btn-sm",target:"_blank",href:"https://www.collinsdictionary.com/dictionary/english/"+e},"Collins",8,W),Object(c["f"])("a",{class:"btn p-0 ms-1 btn-sm",target:"_blank",href:"https://www.lexico.com/en/definition/"+e},"Oxford",8,D),Object(c["f"])("a",{class:"btn p-0 ms-1 btn-sm",target:"_blank",href:"https://dict.cn/"+e},"Dict",8,K),$,Object(c["C"])(n).bLogin?(Object(c["s"])(),Object(c["e"])("button",{key:0,class:"btn btn-outline-info border-0 ms-2",onClick:t=>x(e)}," x ",8,z)):Object(c["d"])("",!0)])]))),128)),Object(c["f"])("div",A,[Object(c["f"])("button",{class:"btn btn-primary my-2",onClick:t[3]||(t[3]=e=>w())},"Refresh")])])])],64))}};const G=E;t["default"]=G},"61b8":function(e,t,n){"use strict";n("b076")},b076:function(e,t,n){},d178:function(e,t,n){"use strict";var c=n("7a23");const s={id:"nav",class:"p-3"},r=Object(c["g"])("BusArrival"),a=Object(c["g"])("☯ "),o=Object(c["g"])("Podcast"),b=Object(c["g"])("☯ "),i=Object(c["g"])("LearnWords");function l(e,t){const n=Object(c["z"])("router-link");return Object(c["s"])(),Object(c["e"])("div",s,[Object(c["h"])(n,{to:"/"},{default:Object(c["F"])(()=>[r]),_:1}),a,Object(c["h"])(n,{to:"/podcast"},{default:Object(c["F"])(()=>[o]),_:1}),b,Object(c["h"])(n,{to:"/learn"},{default:Object(c["F"])(()=>[i]),_:1})])}n("61b8");var u=n("6b0d"),d=n.n(u);const O={},j=d()(O,[["render",l],["__scopeId","data-v-23468830"]]);t["a"]=j}}]);
//# sourceMappingURL=chunk-761a7e61.b9e93d02.js.map