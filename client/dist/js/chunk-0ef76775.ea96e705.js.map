{"version":3,"sources":["webpack:///./src/views/Login.vue?300a","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?a459","webpack:///./src/common/msiLogin.js"],"names":["document","title","id","ref","pwd","errMsg","Login","axios","post","value","then","resp","data","err","setTimeout","localLogin","router","push","name","catch","__exports__","loginId","window","sessionStorage","getItem","setItem","localLogout","removeItem"],"mappings":"kHAAA,W,ozBCqCAA,SAASC,MAAQ,YAEjB,IAAIC,EAAKC,iBAAI,QACTC,EAAMD,iBAAI,QACVE,EAASF,iBAAI,IAEjB,SAASG,IAEPC,IACGC,KAAK,iBAAkB,CAAEN,GAAIA,EAAGO,MAAOL,IAAKA,EAAIK,QAChDC,MAAK,SAACC,GAEL,GAAIA,EAAKC,KAAKC,IAKZ,OAJAR,EAAOI,MAAQE,EAAKC,KAAKC,SACzBC,YAAW,WACTT,EAAOI,MAAQ,KACd,KAILM,eAAWb,EAAGO,OACdO,OAAOC,KAAK,CACVC,KAAM,yBAGTC,OAAM,SAACN,GAENR,EAAOI,MAAQI,EACfC,YAAW,WACTT,EAAOI,MAAQ,KACd,Q,orCC7DT,MAAMW,EAA2B,IAAgB,EAAQ,CAAC,CAAC,YAAY,qBAExD,gB,kCCRf,SAASC,IACP,OAAOC,OAAOC,eAAeC,QAAQ,SAGvC,SAAST,EAAWb,GAClB,OAAOoB,OAAOC,eAAeE,QAAQ,QAASvB,GAGhD,SAASwB,IACP,OAAOJ,OAAOC,eAAeI,WAAW,SAT1C,uG","file":"js/chunk-0ef76775.ea96e705.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Login.vue?vue&type=style&index=0&id=72f798cc&scoped=true&lang=css\"","<template>\r\n  <div class=\"container\">\r\n    <div\r\n      class=\"row align-item-center justify-content-center\"\r\n      style=\"height: 80vh\"\r\n    >\r\n      <div class=\"col align-self-center\">\r\n        <h2 class=\"text-center\">Please sign in</h2>\r\n        <div\r\n          class=\"form mx-auto px-5 pt-4 pb-3 bg-mygray\"\r\n          style=\"max-width: 20rem\"\r\n        >\r\n          <label class=\"form-label small\">ID:</label>\r\n          <input class=\"form-control\" v-model.trim=\"id\" />\r\n          <label class=\"form-label small\">Password:</label>\r\n          <input class=\"form-control\" type=\"password\" v-model.trim=\"pwd\" />\r\n          <div>\r\n            <button class=\"form-control btn btn-primary mt-3\" @click=\"Login()\">\r\n              Sign in\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div v-if=\"errMsg\" class=\"text-center\">\r\n          <small class=\"bg-warning\">{{ errMsg }}</small>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from \"vue\";\r\nimport axios from \"axios\";\r\n\r\nimport router from \"../router\";\r\nimport { localLogin } from \"../common/msiLogin\";\r\n\r\ndocument.title = \"MSI Login\";\r\n\r\nlet id = ref(\"test\");\r\nlet pwd = ref(\"test\");\r\nlet errMsg = ref(\"\");\r\n\r\nfunction Login() {\r\n  // console.log(id, pwd)\r\n  axios\r\n    .post(\"/api/msi/login\", { id: id.value, pwd: pwd.value })\r\n    .then((resp) => {\r\n      // console.log(resp.data)\r\n      if (resp.data.err) {\r\n        errMsg.value = resp.data.err;\r\n        setTimeout(() => {\r\n          errMsg.value = \"\";\r\n        }, 2000);\r\n        return;\r\n      }\r\n\r\n      localLogin(id.value);\r\n      router.push({\r\n        name: \"ActivitieCalendar\",\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      // console.log(err)\r\n      errMsg.value = err;\r\n      setTimeout(() => {\r\n        errMsg.value = \"\";\r\n      }, 2000);\r\n    });\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nsmall:hover {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import script from \"./Login.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Login.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=72f798cc&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\liyc\\\\workspace\\\\projects\\\\nodejs\\\\bus_arrival-dictionary\\\\client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-72f798cc\"]])\n\nexport default __exports__","function loginId() {\r\n  return window.sessionStorage.getItem(\"msiId\");\r\n}\r\n\r\nfunction localLogin(id) {\r\n  return window.sessionStorage.setItem(\"msiId\", id);\r\n}\r\n\r\nfunction localLogout() {\r\n  return window.sessionStorage.removeItem(\"msiId\");\r\n}\r\n\r\nexport { loginId, localLogin, localLogout };\r\n"],"sourceRoot":""}