{"version":3,"sources":["webpack:///./src/views/Login.vue?a834","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?a459","webpack:///./src/common/msiLogin.js"],"names":["class","style","id","type","pwd","Login","errMsg","name","data","mounted","document","title","methods","a","post","this","then","router","push","catch","err","setTimeout","finally","render","__scopeId","loginId","window","sessionStorage","getItem","localLogin","setItem","localLogout","removeItem"],"mappings":"gHAAA,W,sKCCOA,MAAM,a,GAEPA,MAAM,+CACNC,MAAA,iB,GAEKD,MAAM,yB,uBACT,eAA2C,MAAvCA,MAAM,eAAc,kBAAc,M,GAEpCA,MAAM,wCACNC,MAAA,uB,uBAEA,eAA2C,SAApCD,MAAM,oBAAmB,OAAG,M,uBAEnC,eAAiD,SAA1CA,MAAM,oBAAmB,aAAS,M,SAQxBA,MAAM,e,GAChBA,MAAM,c,gDAtBrB,eA0BM,MA1BN,EA0BM,CAzBJ,eAwBM,MAxBN,EAwBM,CApBJ,eAmBM,MAnBN,EAmBM,CAlBJ,EACA,eAaM,MAbN,EAaM,CATJ,E,eACA,eAA2C,SAApCA,MAAM,e,qDAAwB,EAAAE,GAAE,K,mBAAF,EAAAA,MACrC,E,eACA,eAA4D,SAArDF,MAAM,eAAeG,KAAK,W,qDAAoB,EAAAC,IAAG,K,mBAAH,EAAAA,OACrD,eAIM,YAHJ,eAES,UAFDJ,MAAM,oCAAqC,QAAK,+BAAE,EAAAK,WAAS,iBAK5D,EAAAC,Q,iBAAX,eAEM,MAFN,EAEM,CADJ,eAA+C,QAA/C,EAA+C,eAAlB,EAAAA,QAAM,M,uFAa9B,GACbC,KAAM,WACNC,KAFa,WAGX,MAAO,CACLN,GAAI,OACJE,IAAK,OACLE,OAAQ,KAGZG,QATa,WAUXC,SAASC,MAAQ,aAEnBC,QAAS,CACPP,MADO,WACC,WAEN,EAAAQ,EACGC,KAAK,iBAAkB,CAAEZ,GAAIa,KAAKb,GAAIE,IAAKW,KAAKX,MAChDY,MAAK,WAEJ,eAAW,EAAKd,IAChBe,EAAA,KAAOC,KAAK,CACVX,KAAM,yBAGTY,OAAM,SAACC,GAGN,EAAKd,OAASc,EACdC,YAAW,WACT,EAAKf,OAAS,KACb,QAEJgB,SAAQ,kB,UC/DjB,EAAOC,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,kCCRf,SAASC,IACP,OAAOC,OAAOC,eAAeC,QAAQ,SAGvC,SAASC,EAAW3B,GAClB,OAAOwB,OAAOC,eAAeG,QAAQ,QAAS5B,GAGhD,SAAS6B,IACP,OAAOL,OAAOC,eAAeK,WAAW,SAT1C","file":"js/chunk-84b21cdc.31c9e358.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Login.vue?vue&type=style&index=0&id=f877783e&scoped=true&lang=css\"","<template>\r\n  <div class=\"container\">\r\n    <div\r\n      class=\"row align-item-center justify-content-center\"\r\n      style=\"height: 80vh\"\r\n    >\r\n      <div class=\"col align-self-center\">\r\n        <h2 class=\"text-center\">Please sign in</h2>\r\n        <div\r\n          class=\"form mx-auto px-5 pt-4 pb-3 bg-myblue\"\r\n          style=\"max-width: 20rem\"\r\n        >\r\n          <label class=\"form-label small\">ID:</label>\r\n          <input class=\"form-control\" v-model=\"id\" />\r\n          <label class=\"form-label small\">Password:</label>\r\n          <input class=\"form-control\" type=\"password\" v-model=\"pwd\" />\r\n          <div>\r\n            <button class=\"form-control btn btn-primary mt-3\" @click=\"Login()\">\r\n              Sign in\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div v-if=\"errMsg\" class=\"text-center\">\r\n          <small class=\"bg-warning\">{{ errMsg }} </small>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport router from \"../router\";\r\nimport { localLogin } from \"../common/msiLogin\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"LoginVue\",\r\n  data() {\r\n    return {\r\n      id: \"test\",\r\n      pwd: \"test\",\r\n      errMsg: \"\",\r\n    };\r\n  },\r\n  mounted() {\r\n    document.title = \"MSI Login\";\r\n  },\r\n  methods: {\r\n    Login() {\r\n      // console.log(this.id, this.pwd);\r\n      axios\r\n        .post(\"/api/msi/login\", { id: this.id, pwd: this.pwd })\r\n        .then(() => {\r\n          // console.log(\" login ok\", resp.data);\r\n          localLogin(this.id);\r\n          router.push({\r\n            name: \"ActivitieCalendar\",\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          // console.log(\" login failed\");\r\n          // console.log(\"post err:\", err);\r\n          this.errMsg = err;\r\n          setTimeout(() => {\r\n            this.errMsg = \"\";\r\n          }, 5000);\r\n        })\r\n        .finally(() => {\r\n          // console.log(\" login ended\");\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nsmall:hover {\r\n  cursor: pointer;\r\n}\r\n</style>","import { render } from \"./Login.vue?vue&type=template&id=f877783e&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=f877783e&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-f877783e\"\n\nexport default script","function loginId() {\r\n  return window.sessionStorage.getItem(\"msiId\");\r\n}\r\n\r\nfunction localLogin(id) {\r\n  return window.sessionStorage.setItem(\"msiId\", id);\r\n}\r\n\r\nfunction localLogout() {\r\n  return window.sessionStorage.removeItem(\"msiId\");\r\n}\r\n\r\nexport { loginId, localLogin, localLogout };\r\n"],"sourceRoot":""}